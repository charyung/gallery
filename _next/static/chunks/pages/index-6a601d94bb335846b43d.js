(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5841:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var i=n(5893),a=n(9008),r=n(7294),c=n(159),s="picture",u=c.e({space:"dvbnhc2k6rbm",accessToken:"ePy0oKVnOyru__0PuL0QEmIMbtQXNmD48wJmxq4ZWW8"}),l=(0,r.createContext)(),o=(0,r.createContext)({pictureData:null,setPictureData:function(){}}),d=n(4184),f=n.n(d),m=n(4824),_=n.n(m),x=function(e,t){return new Intl.DateTimeFormat("en-GB",t).format(e)},h="numeric",p="2-digit",v={yearOnly:function(e){return x(e,{year:h})},yearMonthOnly:function(e){return x(e,{year:h,month:p})},fullDate:function(e){return x(e,{year:h,month:p,day:"2-digit"})}},j="pixel";function g(e){var t=e.pictureData,n=(0,r.useContext)(o).setPictureData;return(0,i.jsxs)("div",{className:_().frame,children:[(0,i.jsx)("img",{src:t.thumbnail.fields.file.url,onClick:function(){var e=t.image.fields.file.url,i=t.imageType===j;n({url:e,isPixel:i})},className:f()(_().picture,t.imageType===j&&_().pixel)}),(0,i.jsx)("span",{className:_().date,children:v[t.dateFormat](new Date(t.creationDate))})]})}var y=n(3735),D=n.n(y);function N(e){var t=e.title,n=e.data.map((function(e){return(0,i.jsx)(g,{pictureData:e.fields},e.sys.id)}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:D().header,children:t}),(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:D().grid,children:n})]})}var P={pixel:"Pixel",photo:"Photography",digital:"Digital",traditional:"Traditional",other:"Misc."};function E(){var e=(0,r.useContext)(l),t=(0,r.useState)([]),n=t[0],a=t[1],c={};return(0,r.useEffect)((function(){e.getEntries({content_type:s}).then((function(e){e.items.forEach((function(e){var t=e.fields.imageType;t in c||(c[t]=[]),c[t].push(e)})),a(Object.keys(c).map((function(e){return(0,i.jsx)(N,{title:P[e]||P.other,data:c[e]},e)})))})).catch((function(e){return console.log(e)}))}),[e]),(0,i.jsx)("div",{children:n})}var w=n(2868),C=n.n(w);function k(){var e=(0,r.useContext)(o),t=e.pictureData,n=e.setPictureData;return(0,i.jsx)("div",{className:C().modal,onClick:function(){n(null)},children:(0,i.jsx)("img",{className:f()(C().image,t.isPixel&&C().pixel),src:t.url})})}var T=n(5323),b=n.n(T);function O(){var e=(0,r.useState)(null),t=e[0],n=e[1];return(0,i.jsxs)("div",{className:b().container,children:[(0,i.jsx)(a.default,{children:(0,i.jsx)("title",{children:"Gallery"})}),(0,i.jsx)("h1",{className:b().header,children:"Stuff I made."}),(0,i.jsxs)(o.Provider,{value:{pictureData:t,setPictureData:n},children:[t?(0,i.jsx)(k,{}):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)(l.Provider,{value:u,children:(0,i.jsx)(E,{})})]})]})}},8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5841)}])},4824:function(e){e.exports={frame:"frame_frame__2iA32",picture:"frame_picture__1Bsi0",pixel:"frame_pixel__1Si0C",date:"frame_date__3z8Tw"}},3735:function(e){e.exports={grid:"section_grid__-Q9tB",header:"section_header__3uOzo"}},2868:function(e){e.exports={modal:"modal_modal__2Z3RA",image:"modal_image__Ed0p8",pixel:"modal_pixel__2EdSA"}},5323:function(e){e.exports={container:"Home_container__1EcsU",header:"Home_header__3vlZW"}},9086:function(){},4654:function(){}},function(e){e.O(0,[285,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);